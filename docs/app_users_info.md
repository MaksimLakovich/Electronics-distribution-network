# üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–∫–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (`AppUser(AbstractUser)`), –∫–æ—Ç–æ—Ä–∞—è –∑–∞–º–µ–Ω—è–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ `User` –≤ Django.

---

## üîë –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ **email** (–ø–æ–ª–µ `username` —É–¥–∞–ª–µ–Ω–æ).
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (–∞–¥–º–∏–Ω–æ–≤) —á–µ—Ä–µ–∑ —Ä–æ–ª–∏ (`is_staff`, `is_superuser`).
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è: –∏–º—è, —Ñ–∞–º–∏–ª–∏—è.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞—Å—Ç–æ–º–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä `AppUserManager(BaseUserManager)` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

## üì≤ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ –∞–¥–º–∏–Ω–∫–µ (http://base_url/admin/) —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã Django.


2. –†–∞–±–æ—Ç–∞ —Å API-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º —Å –ø–æ–º–æ—â—å—é access-—Ç–æ–∫–µ–Ω–∞ –≤ ***JSON Web Token***:
   - http://base_url/api/token/

---

## üóÇ –ú–æ–¥–µ–ª—å `AppUser(AbstractUser)` –≤ users/models.py

| –ü–æ–ª–µ           | –¢–∏–ø         | –û–ø–∏—Å–∞–Ω–∏–µ                                     |
|----------------| ----------- |----------------------------------------------|
| `id`           | IntegerField  | ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î                         |
| `password`     | CharField  | –ö–µ—à–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é set_password()          |
| `email`        | EmailField  | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –ª–æ–≥–∏–Ω (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ username) |
| `first_name`   | CharField | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)               |
| `last_name`    | CharField | –§–∞–º–∏–ª–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)           |
| `is_active`    | Boolean  | –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å                      |
| `is_staff`     | Boolean  | –ú–æ–∂–µ—Ç –ª–∏ –≤–æ–π—Ç–∏ –≤ –∞–¥–º–∏–Ω–∫—É                     |
| `is_superuser` | Boolean  | –ü–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞                  |
| `date_joined`  | DateTime | –î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏                             |
| `last_login`   | DateTime | –î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—Ö–æ–¥–∞                        |

---

## ‚öôÔ∏è –ú–µ–Ω–µ–¥–∂–µ—Ä `AppUserManager(BaseUserManager)` –≤ users/managers.py

–ö–∞—Å—Ç–æ–º–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏.

### –ú–µ—Ç–æ–¥—ã
- `create_user(email, password, **extra_fields)` - —Å–æ–∑–¥–∞–Ω–∏–µ –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- `create_superuser(email, password, **extra_fields)` - —Å–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

> ‚ö†Ô∏è –í–∞–ª–∏–¥–∞—Ü–∏—è: Email –∏ –ø–∞—Ä–æ–ª—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã.

---

## üñ• –ê–¥–º–∏–Ω–∫–∞ `AppUserAdmin(UserAdmin)` –≤ users/admin.py

–í –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
- –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø–æ–ª—è–º–∏: "id", "email", "first_name", "last_name", "is_staff", "is_superuser", "is_active".
- –ü–æ–∏—Å–∫ –ø–æ: "email", "first_name", "last_name".
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ: "is_staff", "is_superuser", "is_active".
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è: –≤—Å–µ, –∫—Ä–æ–º–µ "last_login", "date_joined".
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞.

---

## üìå –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–°–æ–∑–¥–∞–Ω–∏–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```commandline
python manage.py createsuperuser
```